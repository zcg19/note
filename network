多层单向网络数据传输

这是2013年公司项目中关于文件传输的一个小功能，但实现后没有并没有使用。
现在有功能需要用上，再看时费了一些时间，总结一下。

多层网络并不是指物理上相连的多层，而是应用层上的C/S模式，C→S这是二层
模型，C→S1→S2，这是三层模型。

单向是指只能单向连接，常见用NAT型网络中。
多层单向网络常见企业的多级管控网络中，中层和顶层网络通常是管理端而底层
为被管理端(终端)。

本文讨论的是上述网络中任意两结点的数据传输，后面可实现任意一个结点控制
所有网络(通常情况下，只能由上层控制)。

先画一个三层网络的示意图，三层以上类似。

              A
        _____________
       /             \
      B               C
  ________         ________
 /        \       /        \
D         E       F         G

连按只能从底层向其上一层连接。
从D到F进行数据传输，其路径为D→F所经过的结点DBACF。(可知任意两结点其路径上结点不重复)
一般情况下每个结点只保存了父结点和子结点的信息，这样在D到F的传输过程中各结点需要知道其路径信息，才能最终到达F。
设定路径是有向的，在某结点解析其下一跳的结点时，只需从路径中找到自己，下一个就是其下一跳结点。

由于是单向网络，对于A结点它下一跳是C，它不能直接连C，而是等C连接到A后才能发送数据。
